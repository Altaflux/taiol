Get data -

curl -L -O https://github.com/starksm64/RaspberryPiBeaconParser/raw/master/data/SixScannersRun-2015-03-31.json.gz

Massage data, need 1:1 event:line -

gunzip -c SixScannersRun-2015-03-31.json.gz | sed 's/}{/}\n{/' | awk '{ORS=""; print} /}/ {ORS="\n"; print ""}' > data.json

Run stage0.py -

(only need to do these once)
sudo docker build -t spark docker-spark
sudo docker build -t taiol docker-taiol

sudo docker run --privileged -w /mnt -v $PWD:/mnt taiol spark-submit stage0.py -a amqp://1.2.3.4/name -d data.json

Other -

Stage data: sudo docker run --privileged -w /mnt -v $PWD:/mnt taiol ./play.py data.json amqp://1.2.3.4/name
Fordwarder: ./forward.py amqp://1.2.3.4/name
